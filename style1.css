*{margin:0;padding:0;box-sizing:border-box;font-family:'Pacifico',cursive;}
body{background:#ffe3ec;min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px;}
.container{position:relative;width:90%;max-width:350px;display:flex;flex-direction:column;align-items:center;}

/* Background floating red hearts */
.bg-hearts{position:absolute;width:100%;height:100%;top:0;left:0;pointer-events:none;z-index:0;}
.bg-heart{position:absolute;width:20px;height:20px;background:red;clip-path:polygon(50% 0%,61% 14%,75% 14%,100% 40%,50% 100%,0% 40%,25% 14%,39% 14%);opacity:0.3;animation:bgHeartFloat linear infinite;transform-origin:center;}
@keyframes bgHeartFloat{0%{transform:translateY(0) rotate(0deg);opacity:0.3;}50%{transform:translateY(-100px) rotate(20deg);opacity:0.5;}100%{transform:translateY(-300px) rotate(0deg);opacity:0;}}

/* Envelope */
.envelope-wrapper{width:100%;position:relative;height:220px;perspective:800px;z-index:1;}
.envelope{width:250px;height:180px;position:relative;cursor:pointer;display:flex;justify-content:center;align-items:center;transition:transform 0.5s ease, box-shadow 0.5s ease;z-index:2;}
.envelope-front{width:100%;height:100%;position:absolute;top:0;left:0;border-radius:8px;background:linear-gradient(145deg,#ffb3c6,#ff8ca6);box-shadow:0 4px 10px rgba(0,0,0,0.2);z-index:1;}
.envelope-bottom{width:100%;height:50%;position:absolute;bottom:0;left:0;background:linear-gradient(145deg,#ff9bb3,#ff7a95);clip-path:polygon(0 0,100% 0,50% 100%);z-index:2;}
.envelope-flap{width:100%;height:100%;background:linear-gradient(145deg,#ff8ca6,#ff5c85);position:absolute;top:0;left:0;clip-path:polygon(0 0,100% 0,50% 55%);transform-origin:top;transition:transform 0.7s ease;z-index:3;pointer-events:none;}
.envelope.open #flap{transform:rotateX(-180deg);}

/* Buttons */
.open-btn{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:10;background:#ff5c85;padding:8px 14px;border:none;border-radius:8px;color:white;font-weight:bold;cursor:pointer;transition:background 0.3s ease, box-shadow 0.3s ease;}
.open-btn:hover{background:#ff2d6a;box-shadow:0 0 15px rgba(255,100,150,0.7);}
.close-btn{margin-top:15px;background:#ff5c85;color:white;border:none;border-radius:6px;padding:6px 12px;cursor:pointer;font-weight:bold;display:block;transition:background 0.3s ease, box-shadow 0.3s ease;}
.close-btn:hover{background:#ff2d6a;box-shadow:0 0 15px rgba(255,100,150,0.7);}

/* Letter */
.letter{position:absolute;top:10%;left:50%;transform:translateX(-50%) translateY(50px);width:90%;opacity:0;pointer-events:none;transition:opacity 0.5s ease, transform 0.5s cubic-bezier(0.68,-0.55,0.265,1.55);z-index:5;}
.letter.show{opacity:1;pointer-events:auto;transform:translateX(-50%) translateY(0);}
.paper{background:#fff0f5;padding:20px;border-radius:10px;box-shadow:0 8px 20px rgba(0,0,0,0.1);text-align:left;border:1px solid #ffb3c6;}
.paper h2{color:#ff2d6a;margin-bottom:12px;text-align:center;}
.paper p{margin:10px 0;color:#442c3e;line-height:1.5;font-size:0.95rem;}
.signature{text-align:right;font-style:italic;color:#ff2d6a;font-size:0.95rem;}

/* Floating hearts */
.hearts .heart,.burst .heart-burst{position:absolute;width:20px;height:20px;background:#ff5c85;clip-path:polygon(50% 0%,61% 14%,75% 14%,100% 40%,50% 100%,0% 40%,25% 14%,39% 14%);opacity:1;animation:heartPop 0.5s ease forwards, heartFloat 3s linear 0.5s infinite;transform-origin:center;box-shadow:0 0 8px #ff5c85,0 0 12px #ff9bb3;}
@keyframes heartPop{0%{transform:scale(0) rotate(0deg);}50%{transform:scale(1.5) rotate(15deg);}100%{transform:scale(1) rotate(0deg);}}
@keyframes heartFloat{0%{transform:translateY(0) rotate(0deg);}50%{transform:translateY(-80px) rotate(20deg);}100%{transform:translateY(-150px) rotate(0deg);}}

.particles .particle{position:absolute;width:6px;height:6px;background:#ff9bb3;border-radius:50%;opacity:0.6;animation:floatParticles linear infinite;}
@keyframes floatParticles{0%{transform:translateY(0) scale(1);opacity:0.6;}50%{opacity:0.8;}100%{transform:translateY(-100px) scale(0.8);opacity:0;}}

.sparkles .sparkle{position:absolute;width:4px;height:4px;background:white;border-radius:50%;opacity:0.8;box-shadow:0 0 5px white;animation:sparkleAnim linear infinite;}
@keyframes sparkleAnim{0%{transform:scale(0.5) translateY(0) rotate(0deg);opacity:0.8;}50%{transform:scale(1) translateY(-5px) rotate(180deg);opacity:1;}100%{transform:scale(0.5) translateY(-10px) rotate(360deg);opacity:0;}}

@media (max-width:480px){.envelope-wrapper{height:180px;}.paper{padding:15px;}.open-btn,.close-btn{padding:6px 12px;font-size:0.85rem;}.paper p{font-size:0.9rem;}}
